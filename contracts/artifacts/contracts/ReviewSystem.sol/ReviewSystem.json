{
  "_format": "hh-sol-artifact-1",
  "contractName": "ReviewSystem",
  "sourceName": "contracts/ReviewSystem.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "reviewId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "reviewer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "reviewed",
          "type": "address"
        }
      ],
      "name": "ReviewSubmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "reviewId",
          "type": "uint256"
        }
      ],
      "name": "ReviewVerified",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "agreementReviewed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "calculateAverageRating",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        }
      ],
      "name": "getAgreementReview",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getRecentReviews",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "reviewer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "reviewed",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "agreementId",
              "type": "uint256"
            },
            {
              "internalType": "uint8",
              "name": "rating",
              "type": "uint8"
            },
            {
              "internalType": "string",
              "name": "comment",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isVerified",
              "type": "bool"
            }
          ],
          "internalType": "struct ReviewSystem.Review[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserReviews",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextReviewId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "reviews",
      "outputs": [
        {
          "internalType": "address",
          "name": "reviewer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "reviewed",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "rating",
          "type": "uint8"
        },
        {
          "internalType": "string",
          "name": "comment",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isVerified",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "reviewed",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "rating",
          "type": "uint8"
        },
        {
          "internalType": "string",
          "name": "comment",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "submitReview",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userReviews",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "reviewId",
          "type": "uint256"
        }
      ],
      "name": "verifyReview",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001657610edd908161001c8239f35b600080fdfe608080604052600436101561001357600080fd5b60003560e01c90816318d0e8b214610b37575080631bf94bf214610b065780631f4ac12914610aae5780632932ebe2146105c5578063396e77e7146105a7578063404a51391461030457806373b1851c14610219578063ac610e88146101f3578063e83ddcea1461013e5763ed10b1dd1461008d57600080fd5b34610139576020366003190112610139576004356000818152602081905260409020546001600160a01b031615610101578060005260006020526007604060002001600160ff198254161790557f6c791c617591653cc115cd51ccea47bba48c18c394a2ea4435fed2528f5ed665600080a2005b60405162461bcd60e51b815260206004820152601060248201526f14995d9a595dc81b9bdd08199bdd5b9960821b6044820152606490fd5b600080fd5b34610139576020366003190112610139576004356000526000602052604060002060018060a01b0380825416906001830154169160028101546101e260ff6003840154166101d461019160048601610d49565b61019d60058701610d49565b9260ff600760068901549801541695604051998a998a5260208a015260408901526060880152610100806080890152870190610ccf565b9085820360a0870152610ccf565b9160c0840152151560e08301520390f35b34610139576020366003190112610139576020610211600435610e38565b604051908152f35b346101395760208060031936011261013957610233610bc1565b600380546000928392906001600160a01b03908116845b8481106102885787878781158061027e576102685704604051908152f35b634e487b7160e01b600052601260045260246000fd5b5050506000610211565b80600052600088526040600020828460018301541614806102f6575b6102b8575b506102b390610def565b61024a565b8460ff919897929801541681018091116102e0576102d96102b39196610def565b96906102a9565b634e487b7160e01b600052601160045260246000fd5b5060ff6007820154166102a4565b34610139576020806003193601126101395760038054916004358381111561059f575091805b61033381610e7b565b926103416040519485610c56565b818452601f19918261035282610e7b565b01368787013761036181610e7b565b9361036f6040519586610c56565b8185528361037c83610e7b565b0160005b8181106105485750506000198082019180831160005b85811061047c578a8a8a8a6103b660405193604085526040850190610bd7565b938385038185015282519081865280860181808460051b8901019501936000975b8489106103e45787870388f35b909192939495848082858560019503018752895190848060a01b0380835116825283830151168382015260408201516040820152606060ff81840151169082015260e080610458610445608080870151906101008091880152860190610ccf565b60a0808701519086830390870152610ccf565b9360c0808201519085015201511515910152980194019801979190949392946103d7565b819a979a6102e0578381840301908582116102e05781610540926104a0838e610e93565b52600052600089526040600020604051906104ba82610c39565b80546001600160a01b0390811683526001820154168b830152600281015460408301528981015460ff9081166060840152906007906104fb60048201610d49565b608085015261050c60058201610d49565b60a0850152600681015460c0850152015416151560e082015261052f828c610e93565b5261053a818b610e93565b50610def565b999699610396565b9780959860409493945161055b81610c39565b6000815260008382015260006040820152606060008183015280608083015260a0820152600060c0820152600060e082015282828a01015201979497929192610380565b92909261032a565b34610139576000366003190112610139576020600354604051908152f35b346101395760a0366003190112610139576105de610bc1565b6044359060ff821682036101395760643567ffffffffffffffff81116101395761060c903690600401610c78565b60843567ffffffffffffffff81116101395761062c903690600401610c78565b600160ff8516101580610aa0575b15610a6a57602435600052600260205260ff60406000205416610a25576003549161066483610def565b60035560ff6040519561067687610c39565b33875260018060a01b03861660208801526024356040880152166060860152608085015260a08401524260c0840152600060e084015280600052600060205260406000209260018060a01b038151166bffffffffffffffffffffffff60a01b9081865416178555600185019060018060a01b0360208401511690825416179055604081015160028501556003840160ff60608301511660ff19825416179055608081015180519067ffffffffffffffff821161093f57819061073b6004880154610d0f565b601f81116109d2575b50602090601f831160011461096057600092610955575b50508160011b916000199060031b1c19161760048501555b60a081015193845167ffffffffffffffff811161093f576107976005830154610d0f565b95601f87116108f8575b602096508690601f831160011461088757918060e0949260079460009261087c575b50508160011b916000199060031b1c19161760058201555b60c0840151600682015501910151151560ff80198354169116179055336000526001835261080d816040600020610dfe565b60018060a01b0382166000526001835261082b816040600020610dfe565b602435600052600283526040600020600160ff198254161790556040519160018060a01b031633827f7a1fdd90c3193bbed48d66a2360ac4036187df7f3947ce2c9463476ae7906d49600080a48152f35b0151905089806107c3565b90601f1983169160058501600052886000209260005b8181106108e1575092600192859260079660e09896106108c8575b505050811b0160058201556107db565b015160001960f88460031b161c191690558980806108b8565b92938a60018192878601518155019501930161089d565b600583016000526020600020601f830160051c810160208410610938575b601f890160051c8201811061092c5750506107a1565b60008155600101610916565b5080610916565b634e487b7160e01b600052604160045260246000fd5b01519050868061075b565b9250600487016000526020600020906000935b601f19841685106109b7576001945083601f1981161061099e575b505050811b016004850155610773565b015160001960f88460031b161c1916905586808061098e565b81810151835560209485019460019093019290910190610973565b909150600487016000526020600020601f840160051c810160208510610a1e575b90849392915b601f830160051c82018110610a0f575050610744565b600081558594506001016109f9565b50806109f3565b60405162461bcd60e51b815260206004820152601a60248201527f41677265656d656e7420616c72656164792072657669657765640000000000006044820152606490fd5b60405162461bcd60e51b815260206004820152600e60248201526d496e76616c696420726174696e6760901b6044820152606490fd5b50600560ff8516111561063a565b3461013957604036600319011261013957610ac7610bc1565b6001600160a01b031660009081526001602052604090208054602435919082101561013957602091610af891610c0b565b90546040519160031b1c8152f35b34610139576020366003190112610139576004356000526002602052602060ff604060002054166040519015158152f35b3461013957602080600319360112610139576001600160a01b03610b59610bc1565b16600052600180825282604060002080549283835284830191600052846000209060005b86868210610bab578590610b9382870383610c56565b610ba7604051928284938452830190610bd7565b0390f35b8354855288955090930192918101918101610b7d565b600435906001600160a01b038216820361013957565b90815180825260208080930193019160005b828110610bf7575050505090565b835185529381019392810192600101610be9565b8054821015610c235760005260206000200190600090565b634e487b7160e01b600052603260045260246000fd5b610100810190811067ffffffffffffffff82111761093f57604052565b90601f8019910116810190811067ffffffffffffffff82111761093f57604052565b81601f820112156101395780359067ffffffffffffffff821161093f5760405192610cad601f8401601f191660200185610c56565b8284526020838301011161013957816000926020809301838601378301015290565b919082519283825260005b848110610cfb575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610cda565b90600182811c92168015610d3f575b6020831014610d2957565b634e487b7160e01b600052602260045260246000fd5b91607f1691610d1e565b9060405191826000825492610d5d84610d0f565b908184526001948581169081600014610dcc5750600114610d89575b5050610d8792500383610c56565b565b9093915060005260209081600020936000915b818310610db4575050610d8793508201013880610d79565b85548884018501529485019487945091830191610d9c565b915050610d8794506020925060ff191682840152151560051b8201013880610d79565b60001981146102e05760010190565b80546801000000000000000081101561093f57610e2091600182018155610c0b565b819291549060031b91821b91600019901b1916179055565b600354906000805b838110610e51575050505060001990565b8082528160205282600260408420015414610e7457610e6f90610def565b610e40565b9250505090565b67ffffffffffffffff811161093f5760051b60200190565b8051821015610c235760209160051b01019056fea26469706673582212206d0720c222312c923c04605d125eefe3c5d7fbe39645d263de746aa3339299ea64736f6c63430008130033",
  "deployedBytecode": "0x608080604052600436101561001357600080fd5b60003560e01c90816318d0e8b214610b37575080631bf94bf214610b065780631f4ac12914610aae5780632932ebe2146105c5578063396e77e7146105a7578063404a51391461030457806373b1851c14610219578063ac610e88146101f3578063e83ddcea1461013e5763ed10b1dd1461008d57600080fd5b34610139576020366003190112610139576004356000818152602081905260409020546001600160a01b031615610101578060005260006020526007604060002001600160ff198254161790557f6c791c617591653cc115cd51ccea47bba48c18c394a2ea4435fed2528f5ed665600080a2005b60405162461bcd60e51b815260206004820152601060248201526f14995d9a595dc81b9bdd08199bdd5b9960821b6044820152606490fd5b600080fd5b34610139576020366003190112610139576004356000526000602052604060002060018060a01b0380825416906001830154169160028101546101e260ff6003840154166101d461019160048601610d49565b61019d60058701610d49565b9260ff600760068901549801541695604051998a998a5260208a015260408901526060880152610100806080890152870190610ccf565b9085820360a0870152610ccf565b9160c0840152151560e08301520390f35b34610139576020366003190112610139576020610211600435610e38565b604051908152f35b346101395760208060031936011261013957610233610bc1565b600380546000928392906001600160a01b03908116845b8481106102885787878781158061027e576102685704604051908152f35b634e487b7160e01b600052601260045260246000fd5b5050506000610211565b80600052600088526040600020828460018301541614806102f6575b6102b8575b506102b390610def565b61024a565b8460ff919897929801541681018091116102e0576102d96102b39196610def565b96906102a9565b634e487b7160e01b600052601160045260246000fd5b5060ff6007820154166102a4565b34610139576020806003193601126101395760038054916004358381111561059f575091805b61033381610e7b565b926103416040519485610c56565b818452601f19918261035282610e7b565b01368787013761036181610e7b565b9361036f6040519586610c56565b8185528361037c83610e7b565b0160005b8181106105485750506000198082019180831160005b85811061047c578a8a8a8a6103b660405193604085526040850190610bd7565b938385038185015282519081865280860181808460051b8901019501936000975b8489106103e45787870388f35b909192939495848082858560019503018752895190848060a01b0380835116825283830151168382015260408201516040820152606060ff81840151169082015260e080610458610445608080870151906101008091880152860190610ccf565b60a0808701519086830390870152610ccf565b9360c0808201519085015201511515910152980194019801979190949392946103d7565b819a979a6102e0578381840301908582116102e05781610540926104a0838e610e93565b52600052600089526040600020604051906104ba82610c39565b80546001600160a01b0390811683526001820154168b830152600281015460408301528981015460ff9081166060840152906007906104fb60048201610d49565b608085015261050c60058201610d49565b60a0850152600681015460c0850152015416151560e082015261052f828c610e93565b5261053a818b610e93565b50610def565b999699610396565b9780959860409493945161055b81610c39565b6000815260008382015260006040820152606060008183015280608083015260a0820152600060c0820152600060e082015282828a01015201979497929192610380565b92909261032a565b34610139576000366003190112610139576020600354604051908152f35b346101395760a0366003190112610139576105de610bc1565b6044359060ff821682036101395760643567ffffffffffffffff81116101395761060c903690600401610c78565b60843567ffffffffffffffff81116101395761062c903690600401610c78565b600160ff8516101580610aa0575b15610a6a57602435600052600260205260ff60406000205416610a25576003549161066483610def565b60035560ff6040519561067687610c39565b33875260018060a01b03861660208801526024356040880152166060860152608085015260a08401524260c0840152600060e084015280600052600060205260406000209260018060a01b038151166bffffffffffffffffffffffff60a01b9081865416178555600185019060018060a01b0360208401511690825416179055604081015160028501556003840160ff60608301511660ff19825416179055608081015180519067ffffffffffffffff821161093f57819061073b6004880154610d0f565b601f81116109d2575b50602090601f831160011461096057600092610955575b50508160011b916000199060031b1c19161760048501555b60a081015193845167ffffffffffffffff811161093f576107976005830154610d0f565b95601f87116108f8575b602096508690601f831160011461088757918060e0949260079460009261087c575b50508160011b916000199060031b1c19161760058201555b60c0840151600682015501910151151560ff80198354169116179055336000526001835261080d816040600020610dfe565b60018060a01b0382166000526001835261082b816040600020610dfe565b602435600052600283526040600020600160ff198254161790556040519160018060a01b031633827f7a1fdd90c3193bbed48d66a2360ac4036187df7f3947ce2c9463476ae7906d49600080a48152f35b0151905089806107c3565b90601f1983169160058501600052886000209260005b8181106108e1575092600192859260079660e09896106108c8575b505050811b0160058201556107db565b015160001960f88460031b161c191690558980806108b8565b92938a60018192878601518155019501930161089d565b600583016000526020600020601f830160051c810160208410610938575b601f890160051c8201811061092c5750506107a1565b60008155600101610916565b5080610916565b634e487b7160e01b600052604160045260246000fd5b01519050868061075b565b9250600487016000526020600020906000935b601f19841685106109b7576001945083601f1981161061099e575b505050811b016004850155610773565b015160001960f88460031b161c1916905586808061098e565b81810151835560209485019460019093019290910190610973565b909150600487016000526020600020601f840160051c810160208510610a1e575b90849392915b601f830160051c82018110610a0f575050610744565b600081558594506001016109f9565b50806109f3565b60405162461bcd60e51b815260206004820152601a60248201527f41677265656d656e7420616c72656164792072657669657765640000000000006044820152606490fd5b60405162461bcd60e51b815260206004820152600e60248201526d496e76616c696420726174696e6760901b6044820152606490fd5b50600560ff8516111561063a565b3461013957604036600319011261013957610ac7610bc1565b6001600160a01b031660009081526001602052604090208054602435919082101561013957602091610af891610c0b565b90546040519160031b1c8152f35b34610139576020366003190112610139576004356000526002602052602060ff604060002054166040519015158152f35b3461013957602080600319360112610139576001600160a01b03610b59610bc1565b16600052600180825282604060002080549283835284830191600052846000209060005b86868210610bab578590610b9382870383610c56565b610ba7604051928284938452830190610bd7565b0390f35b8354855288955090930192918101918101610b7d565b600435906001600160a01b038216820361013957565b90815180825260208080930193019160005b828110610bf7575050505090565b835185529381019392810192600101610be9565b8054821015610c235760005260206000200190600090565b634e487b7160e01b600052603260045260246000fd5b610100810190811067ffffffffffffffff82111761093f57604052565b90601f8019910116810190811067ffffffffffffffff82111761093f57604052565b81601f820112156101395780359067ffffffffffffffff821161093f5760405192610cad601f8401601f191660200185610c56565b8284526020838301011161013957816000926020809301838601378301015290565b919082519283825260005b848110610cfb575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610cda565b90600182811c92168015610d3f575b6020831014610d2957565b634e487b7160e01b600052602260045260246000fd5b91607f1691610d1e565b9060405191826000825492610d5d84610d0f565b908184526001948581169081600014610dcc5750600114610d89575b5050610d8792500383610c56565b565b9093915060005260209081600020936000915b818310610db4575050610d8793508201013880610d79565b85548884018501529485019487945091830191610d9c565b915050610d8794506020925060ff191682840152151560051b8201013880610d79565b60001981146102e05760010190565b80546801000000000000000081101561093f57610e2091600182018155610c0b565b819291549060031b91821b91600019901b1916179055565b600354906000805b838110610e51575050505060001990565b8082528160205282600260408420015414610e7457610e6f90610def565b610e40565b9250505090565b67ffffffffffffffff811161093f5760051b60200190565b8051821015610c235760209160051b01019056fea26469706673582212206d0720c222312c923c04605d125eefe3c5d7fbe39645d263de746aa3339299ea64736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
